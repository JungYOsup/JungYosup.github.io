---
title: "2.Javascript 변수"
excerpt: "javascript 문법중 변수에대해서 알아보자"
categories:
  - javascript
tags:
  - jekyll
last_modified_at: 2018-07-01T13:00:00+09:00
toc: true
toc_sticky: true
---

## 1. Variable (변수)

- 1.1 변수 키워드 의 종류

  - var , let , const

  * EM6 부터는 키워드를 let과 const만을 사용한다.

* 1.2 var의 문제점

  - 함수레벨스코프(Funtion-level cope)

    - 자바스크립 변수는 함수레벨 스코프이며 대표적으로 var가 있다. 함수레벨 스코프란 함수 안에 선언된 변수는 함수 밖에서 가져올수 없으나, 함수 밖에서 선언된 변수는 함수 안에서 가져올수 있다. 그러나 블록에서는 함수 안에 선언된 변수는 함수 밖에서 가져올수도 있고, 함수 밖에서 선언된 변수를 함수 안아서도 가져올수 있다. (하지만 ES6 에서 도입한 const와 let 키워드를 사용함에따라 블록레벨스코프를 사용할수 있게 되었다.)

    ```js
    var a = 20;

    function abc() {
      console.log(a);
      var b = 30;
    }

    {
      var c = 40;
    }

    abc(); // 20
    console.log(c); // 40
    console.log(b); // b is not defined
    ```

    - 이렇게 블록안에서 선언된 변수조차 외부에서 가져올수 있기 때문에, 전역 변수의 남발할수 있다.

    * for loop(for 문) 초기화 식에서 사용한 변수를 for loop 외부 또는 전역에서 참조할수 있다.
      == 블록안에서 선언된 변수를 블록 외부에서 또는 전역에서 참조할수 있다.

- var 키워드 생략 허용

  - var 키워드를 생략하여 사용하면 의도하지 않게 변수가 전역화 된다.

* 중복 선언 허용

  - 의도하지 않은 변수값 변경

- 변수 호이스팅

  - 변수를 선언하기 전에 참조가 가능하다.

  ```js
  const hoisting = () => {
    console.log("First-Name:", name);
    var name = "Marcus";
    console.log("Last-Name:", name);
  };
  hoisting();
  // First Name : undefined
  // Last Name : Marcus
  // First Name이 undefined인 이유는 지역변수 name이 호이스트 되었기 때문이다.
  ```

  위 hoisting이라는 함수는 자바스크립트로 이해하면 다음과 같이 표현할 수 있다.
  변수 호이스팅이 일어나, name이 선언된 곳의 스코프 가장 위로 올라가게 되며, 선언단계와 초기화 단계가 한번에 이루어지게 된다.

  - 선언단계 : 변수객체에 변수를 등록한다.
  - 초기화 단계 : 변수 객체에 등록된 변수를 메모리에 할당한다. 이 단계에서 변수는 undefined로 초기화
  - 할당 단계 : undefined로 초기화된 변수에 실제값을 할당.

  ```js
  const hoisting = () => {
    var name; // name 변수는 호이스트 되었습니다. 선언과 초기화가 한번에 이루어졌습니다.
    console.log("First name : " + name); // First Name : undefined
    name = "Marcus"; // 할당 단계
    console.log("Last Name : " + name); // Last Name : Ford
  };
  ```

* 1.3 var 문제의 개선방향

  - **블록레벨스코프(Block-level Scope) : const와 let이 대표적인 블록레벨 스코프이며 , 블록안에 있는 변수를 블록외부에서 가져올수 없고, 블록 밖에 있는 변수는 블록 안에서 가져올수 있다.**

  ```js
  let a = 20;

  function abc() {
    console.log(a);
    let b = 30;
  }

  {
    let c = 40;
  }

  abc(); //20
  console.log(b); // b is not defined
  console.log(c); // c is not defined
  ```

  - 여기서 알아두어야할 사항, const와 let은 호이스팅이 될까?

  ```js
  const hoisting = () => {
    console.log("Name:", name);
    let name = "Marcus"; //변수가 실제 있는 위치
  };

  hoisting();
  // ReferenceError: name is not defined
  ```

  - var 뿐만 아니라 모든 선언문(var, let, const , function, class)이 선언되기 이전에 참조 가능하다. 그러나 **let과 const 호이스팅이 되지만 코드 실행이 변수가 실제 있는 위치에 도달할 때까지 엑세스를 할수가 없다.** 이 개념을 더 자세하게 알고 싶으면 [호이스팅과 TDZ](https://velog.io/@marcus/Javascript-Hoisting)에 잘 나와있다.
